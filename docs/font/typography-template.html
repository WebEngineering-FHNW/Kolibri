<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Styleguide Typography</title>
  <link rel="stylesheet" href="typography-template.css">
  <style></style>
</head>
<body>

<!-- Header Section -->
<header>
  <div class="header-logo"> <!-- Logo gets placed with js --></div>
  <div class="header-title">
    <h5> Styleguide Typography</h5>
    <h3> Kolibri Font Family / Sans-Serif</h3>
  </div>
</header>

<!-- Main Content -->
<main>

  <!-- Introduction Section -->
  <section class="intro">
      <div class="intro-name">
        <h1>Saira</h1>
        <h3>Nice font for fancy headers but also reads well for running text.</h3>
      </div>
      <div class="intro-sample">
        <span>Ag</span>
      </div>
  </section>

  <!-- About Section -->
  <section>
    <div class="about">
      <h3>About</h3>
      <p>Saira is a sans serif system. It features a huge range of weights and widths, ready for all kind of
        typographic challenges.<br><br>
        This is the Normal family, which is part of the superfamily along with <u> Semi Condensed,
        Condensed,</u> and <u>Extra Condensed</u>, each with 9 weights.<br><br>
        Saira has been upgraded in 2020 to a variable font with axes for weight and width, adding expanded
        widths to the superfamily.<br><br>

        This typeface was designed by Hector Gatti and developed by the Omnibus Type team. To contribute to the
        project, visit <a href="https://github.com/Omnibus-Type/Saira" class="kolibri-link"> Github Saira </a>
      </p>
    </div>

    <div class="usage">
      <h3>Usage</h3>
      <div class="usage-number">
        <h1>11.6</h1><span>million</span>
      </div>
      <p>Number of times Google Fonts API served Saira Extra Condensed over the last week. Saira Extra Condensed
        is featured in more than 27,500 websites.</p>
    </div>
  </section>

  <!-- Styles Section -->
  <section class="styles">
    <div class="styles-input">
      <h3>Styles</h3>
      <!-- Input field for your own text preview placed with js -->
    </div>
    <div class="styles-slider">
      <!-- Range-Slider for your own text size preview placed with js -->
    </div>
  </section>

  <section>
    <div class="styles-weights">
      <!-- Font-Styles for your own text placed with js -->
    </div>
  </section>

  <!-- Animation Section -->
  <section class="animation">
    <h3>Animation</h3>
    <p>On hover: try mouse over here!</p>
    <div class="hover-element">9</div>
  </section>

  <!-- Numbers and Punctuation Section -->
  <section class="characters">
    <div class="radioButtons">
      <div class="numbers">
        <h4>Numbers</h4>
        <div class="radioBtnGroup">
          <!-- Numbers And Fraction generated -->
        </div>
      </div>
      <div class="punctuation">
        <h4>Punctuation</h4>
        <div class="radioBtnGroup">
          <!-- Punctuation characters generated -->
        </div>
      </div>
    </div>
    <!-- NumbersAndPunctuation Input Field placed with js  -->
  </section>

</main>


<script type="module">

  import { LOGO_KOLIBRI_SVG }                                 from "../img/logo/logo-svg.js";
  import { dom, TEXT, RANGE }                                 from "../src/kolibri/util/dom.js";
  import { SimpleInputController }                            from "../src/kolibri/projector/simpleForm/simpleInputController.js";
  import { InputProjector, SIMPLE_INPUT_RANGE_SLIDER_CSS }    from "../src/kolibri/projector/simpleForm/simpleInputProjector.js";

  //TODO Discuss with Dierk for a better way
  const generateUniqueId = ((prefix = 'unique-id') => {
    let counter = 0;
    return () => `${prefix}-${counter++}`;
  })();


  const fontStyles          = [
    { name: 'Thin',       weight: 100 },
    { name: 'Light',      weight: 200 },
    { name: 'Regular',    weight: 400 },
    { name: 'Bold',       weight: 700 },
    { name: 'ExtraBold',  weight: 800 },
  ];
  const numbersAndFractions = [
    '0',  // Zero
    '1',  // One
    '2',  // Two
    '3',  // Three
    '4',  // Four
    '5',  // Five
    '6',  // Six
    '7',  // Seven
    '8',  // Eight
    '9',  // Nine
    '½',  // One-half
    '⅓',  // One-third
    '⅔',  // Two-thirds
    '¼',  // One-quarter
    '¾'   // Three-quarters
  ];
  const punctuationMarks    = [
    '.',  // Period
    ',',  // Comma
    ';',  // Semicolon
    ':',  // Colon
    '!',  // Exclamation mark
    '?',  // Question mark
    '-',  // Hyphen
    '–',  // En Dash
    '—',  // Em Dash
    '(',  // Left Parenthesis
    ')',  // Right Parenthesis
    '[',  // Left Bracket
    ']',  // Right Bracket
    '{',  // Left Brace
    '}',  // Right Brace
    '/',  // Slash
    '|',  // Vertical bar
    '@',  // At symbol
    '#',  // Hash
    '$',  // Dollar sign
    '%',  // Percent
    '^',  // Caret
    '&',  // Ampersand
    '*',  // Asterisk
    '_',  // Underscore
    '=',  // Equal sign
    '+',  // Plus sign
    '<',  // Less than
    '>',  // Greater than
    '~'   // Tilde
  ];

  // -- Your own text input field --
  //TODO Discuss with Dierk
  // - if this is already kind of a form -> to be build with SimpleFormController?
  // - if SimpleInputModel is needed? Or if its simpler with object as parameters (Model)
  // const yourOwnTextM = new SimpleInputModel({ value : '', label: '', name: 'yourOwnText', type: TEXT});
  const yourOwnTextInputC =  SimpleInputController( { value : 'Type here to preview your text', label: '', name: 'yourOwnText', type: TEXT} );
  const yourOwnTextInputP =  InputProjector.projectInstantInput ( yourOwnTextInputC, 'styles-input-text');

  // Todo Discuss with Dierk
  // - would a Placeholder be a nice to have?
  // - what would be then the value? empty or == placeholder?
  // yourOwnTextInputP[1].querySelector('input').placeholder = 'Type here to preview your text';
  const yourOwnTextRangeC =  SimpleInputController( { value : '24', label: 'px', name: 'yourOwnTextSize', type: RANGE} );
  const yourOwnTextRangeP =  InputProjector.projectInstantInput ( yourOwnTextRangeC, 'styles-input-range');

  // -- Numbers and Punctuation --
  const numberAndPunctuationC = SimpleInputController( { value : '9', label: '', name: 'numberAndPunctuation', type: TEXT} );
  const numberAndPunctuationP = InputProjector.projectInstantInput ( numberAndPunctuationC, 'numberAndPunctuation');


  const genFontStyles = (args = []) => {

    const container = document.createElement('div');

    args.forEach(font => {
      const elements = dom(`
            <div class="font-weight">${font.name} ${font.weight}</div>
            <p class="font-weight-${font.weight}">Whereas recognition of the inherent dignity...</p>
      `);

      const text  = elements[1];

      yourOwnTextInputC.onValueChanged( (value) => {
        text.textContent = value === '' ? '|' : value;
      });

      yourOwnTextRangeC.onValueChanged( (value) => {
        text.style.fontSize  = `${value}px`;
      });

      container.append(...elements);
    });

    return container.childNodes;
  };
  const genNumberAndPunctuationRadioBtn = (args = [], groupName)=> {

    const container = document.createElement('div');

    args.forEach((item, index) => {
      const uniqueId = generateUniqueId();
      const elements = dom(`
            <input type="radio" id="${uniqueId}" name="${groupName}" value="${item}">
            <label for="${uniqueId}">${item}</label>
        `);

      const [input, label] = [elements[0], elements[1]];

      // Prevent label from being deselected with mouse
      label.addEventListener('mousedown', (e) => e.preventDefault());

      input.addEventListener('click', () => {
        numberAndPunctuationC.setValue(input.value);
      });

      numberAndPunctuationC.onValueChanged((value) => {
        input.checked = input.value === value;
      });

      // Append elements to the fragment container
      container.append(...elements);
    });

    return container.childNodes;
  };



  document.querySelector('.styles-slider').append(...yourOwnTextRangeP);
  document.querySelector('.styles-input').append(...yourOwnTextInputP);
  document.querySelector('.styles-weights').append(...genFontStyles(fontStyles));
  document.querySelector('.characters').append(...numberAndPunctuationP);
  document.querySelector('.numbers .radioBtnGroup').append(...genNumberAndPunctuationRadioBtn(numbersAndFractions, 'numberAndPunctuation'));
  document.querySelector('.punctuation .radioBtnGroup').append(...genNumberAndPunctuationRadioBtn(punctuationMarks, 'numberAndPunctuation'));

  // Todo Discuss with Dierk if that is a good way to handle your Logo.
  document.querySelector('.header-logo').append(...LOGO_KOLIBRI_SVG({width: 94, height: 94, viewBox: '0 0 128 128'}));
  document.querySelector("head style").textContent += SIMPLE_INPUT_RANGE_SLIDER_CSS;




</script>


